"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[911],{6911:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s(5155),a=s(2115),r=s(5617);function l(e){let{children:t}=e,{config:s}=(0,r.U)(),[l,n]=(0,a.useState)(!0),[c,d]=(0,a.useState)("");return((0,a.useEffect)(()=>{s.isInitialized?s.isReady?(n(!1),d("")):(n(!1),d("The application is not properly configured. Please check server logs.")):(n(!0),d(""),fetch("/api/system/init").then(e=>e.json()).then(e=>{"success"===e.status&&e.data.ready?n(!1):(n(!1),d("Application initialization failed. Please check server configuration."))}).catch(e=>{n(!1),d("Failed to connect to the server. Please try again later."),console.error("Initialization error:",e)}))},[s.isInitialized,s.isReady]),l)?(0,i.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4 text-center",children:(0,i.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-lg",children:[(0,i.jsx)("h1",{className:"mb-4 text-2xl font-bold text-gray-800",children:s.appName}),(0,i.jsx)("div",{className:"mb-4 flex justify-center",children:(0,i.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-gray-200 border-t-blue-600"})}),(0,i.jsx)("p",{className:"text-gray-600",children:"Initializing application, please wait..."})]})}):c?(0,i.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gray-50 p-4 text-center",children:(0,i.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-lg",children:[(0,i.jsx)("h1",{className:"mb-4 text-2xl font-bold text-red-600",children:"Initialization Error"}),(0,i.jsx)("div",{className:"mb-4 flex justify-center",children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,i.jsx)("p",{className:"mb-4 text-gray-600",children:c}),(0,i.jsx)("button",{onClick:()=>window.location.reload(),className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",children:"Retry"})]})}):(0,i.jsx)(i.Fragment,{children:t})}}}]);